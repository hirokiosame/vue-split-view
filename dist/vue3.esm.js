import{openBlock as t,createBlock as i,createVNode as e,renderSlot as s,withModifiers as r}from"vue";var o={name:"SplitView",props:{direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},AInit:{type:String,default:"50%"},AMin:{type:String,default:"none"},AMax:{type:String,default:"none"}},data(){return{isDragging:!1,offset:this.AInit}},computed:{isVertical(){return"vertical"===this.direction},offsetA(){return"string"==typeof this.offset?this.offset:`${this.offset}px`},styleA(){const t=this.isVertical?"Height":"Width";return{[t.toLowerCase()]:this.offsetA,[`min${t}`]:this.AMin,[`max${t}`]:this.AMax}}},methods:{dragStart(){this.isDragging=!0,window.addEventListener("mousemove",this.dragging,{passive:!0}),window.addEventListener("mouseup",this.dragStop,{passive:!0,once:!0})},dragStop(){window.removeEventListener("mousemove",this.dragging),this.isDragging=!1},mouseOffset(t){const{container:i}=this.$refs,e=function(t){let i=0,e=0;for(;t;)i+=t.offsetLeft-t.scrollLeft+t.clientLeft,e+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;return{x:i,y:e}}(i);let s;return this.isVertical?(s=t.pageY-e.y,s=Math.min(s,i.offsetHeight)):(s=t.pageX-e.x,s=Math.min(s,i.offsetWidth)),Math.max(s,0)},dragging(t){this.offset=this.mouseOffset(t)}}};(o.__cssModules={}).$s={SplitView:"_SplitView_ro1wp_2",isVertical:"_isVertical_ro1wp_8",Handle:"_Handle_ro1wp_13",isHorizontal:"_isHorizontal_ro1wp_20",SideA:"_SideA_ro1wp_46",isLocked:"_isLocked_ro1wp_49",SideB:"_SideB_ro1wp_54 _SideA_ro1wp_46"},o.render=function(o,n,a,l,d,f){return t(),i("div",{ref:"container",class:[o.$s.SplitView,{[o.$s.isVertical]:f.isVertical}]},[e("div",{class:[o.$s.SideA,{[o.$s.isLocked]:d.isDragging}],style:f.styleA},[s(o.$slots,"A")],6),e("span",{class:[o.$s.Handle,{[o.$s.isVertical]:f.isVertical,[o.$s.isHorizontal]:!f.isVertical}],onMousedown:n[1]||(n[1]=r(((...t)=>f.dragStart&&f.dragStart(...t)),["prevent"]))},null,34),e("div",{class:[o.$s.SideB,{[o.$s.isLocked]:d.isDragging}]},[s(o.$slots,"B")],2)],2)};export default o;
